
<ngx-datatable
  #thresholdDataTable
  class="material"
  headerHeight="50"
  [columnMode]="ColumnMode.force"
  footerHeight="50"
  rowHeight="30"
  [rows]="rows"
>

  <ngx-datatable-column name="Metric">
    <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
      <div class="row-container" (click)="editing[rowIndex + '-metricId'] = true">
        {{value.name}}
      </div>

    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Min">
    <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
      <div class="row-container" (click)="editing[rowIndex + '-min'] = true">
          <span
          title="Double click to edit"
          *ngIf="!editing[rowIndex + '-min']"
        >
          {{ value ? value : "enter a min threshold"}}
        </span>
        <input matInput
          autofocus
          (blur)="updateValue($event, 'min', rowIndex)"
          *ngIf="editing[rowIndex + '-min']"
          type="number"
          [value]="value"
        />
      </div>
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Max">
    <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
      <div class="row-container" (click)="editing[rowIndex + '-max'] = true">
          <span
          title="Double click to edit"
          *ngIf="!editing[rowIndex + '-max']"
        >
          {{ value? value : "Enter a max threshold"}}
        </span>
        <input matInput
          autofocus
          (blur)="updateValue($event, 'max', rowIndex)"
          *ngIf="editing[rowIndex + '-max']"
          type="number"
          [value]="value"
        />

      </div>

    </ng-template>
  </ngx-datatable-column>
</ngx-datatable>