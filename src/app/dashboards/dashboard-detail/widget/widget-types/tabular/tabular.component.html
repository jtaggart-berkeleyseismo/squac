<table *ngIf="data">
    <tr>
      <th>Channels</th>
      <th *ngFor="let metric of metrics">
        {{metric.name}} {{metric.id}}
      </th>
    </tr>
    <tr *ngFor="let channel of channels">
      <td>
        {{channel.nslc}} {{channel.id}}
      </td>
      <ng-container *ngFor="let metric of metrics">
        <ng-container *ngIf="hasData(channel.id, metric.id); else noData">
          <!-- use value to calculate coloring for average -->
          <td *ngIf="data[channel.id][metric.id] | measurement:'average' as value; else zero">
            {{value | number:'1.2-2'}}
          </td>
          <ng-template #zero>
              <td> {{0 | number:'1.2-2'}}</td>
          </ng-template>
        
        </ng-container>
        <ng-template #noData>
          <td>No data</td>
        </ng-template>

      </ng-container>
    
    </tr>
  </table>

