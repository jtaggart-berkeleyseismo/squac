<div id="widget-container" class="box">
  <h4>Widget! {{widget.name}}</h4>

    <button (click)="editWidget()"> Edit widget </button>

    <div id="widget-content">
        <table *ngIf="data">
            <tr>
              <th>Channels</th>
              <th *ngFor="let metric of widget.metrics">
                {{metric.name}} {{metric.id}}
              </th>
            </tr>
            <tr *ngFor="let channel of channelGroup.channels">
      
              <td>
                {{channel.name}} {{channel.id}}
              </td>
              <ng-container *ngFor="let metric of widget.metrics">

                <td *ngIf="getData(channel.id, metric.id) | measurement:'average' as value; else elseTemplate">
                  {{value}}
                </td>
                <ng-template #elseTemplate>
                    <td>No data</td>
                </ng-template>

              </ng-container>
            
            </tr>
          </table>
    </div>

</div>